import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';
import Map from './Map.tsx';
export const API_KEY = process.env.REACT_APP_GOOGLE_MAPS_API_KEY;

export const polylines = [
	{
		path: [
			{ lat: 37.7749, lng: -122.4194 },
			{ lat: 40.712776, lng: -74.005974 },
		],
		strokeColor: 'green',
		strokeOpacity: 1.0,
		strokeWeight: 2,
	},
	{
		path: [
			{ lat: 37.7749, lng: -122.4194 },
			{ lat: 34.052235, lng: -118.243683 },
		],
		strokeColor: 'green',
		strokeOpacity: 1.0,
		strokeWeight: 2,
	},
];

export const markers = [
	{
		position: { lat: 37.7749, lng: -122.4194 },
		label: 'A',
	},
	{
		position: { lat: 40.712776, lng: -74.005974 },
		label: 'B',
	},
	{
		position: { lat: 34.052235, lng: -118.243683 },
		label: 'C',
	},
];

export const MapArgTypes = {
	lat: {
		control: {
			type: 'number',
			min: -90,
			max: 90,
		},
		defaultValue: 50.4501,
	},
	lng: {
		control: {
			type: 'number',
			min: -180,
			max: 180,
		},
		defaultValue: 30.523399,
	},
	zoom: {
		control: {
			type: 'range',
			min: 0,
			max: 20,
			step: 1,
		},
		defaultValue: 10,
	},
	apiKey: {
		control: {
			type: 'text',
		},
	},
	onBoundsChanged: {
		control: {
			type: 'function',
		},
		description: "A callback function that is called when the map's bounds change",
	},
	onCenterChanged: {
		control: {
			type: 'function',
		},
		description: "A callback function that is called when the map's center changes",
	},
	onZoomChanged: {
		control: {
			type: 'function',
		},
		description: "A callback function that is called when the map's zoom level changes",
	},
	markers: {
		control: {
			type: 'object',
		},
		description: 'An array of objects that define markers to be placed on the map',
		defaultValue: markers,
	},
	polylines: {
		control: {
			type: 'object',
		},
		description: 'An array of objects that define polylines to be drawn on the map',
		defaultValue: polylines,
	},
	destinationIcon: {
		description:
			'The URL or | google.maps.Icon | google.maps.Symbol of the icon to be used for the destination marker',
	},
	userLocationIcon: {
		description:
			'The URL or | google.maps.Icon | google.maps.Symbol of the icon to be used for the user location marker',
	},
	travelMode: {
		options: ['DRIVING', 'WALKING', 'BICYCLING', 'TRANSIT'],
		control: {
			type: 'select',
		},
		defaultValue: 'DRIVING',
	},
};

<Meta
	title="Component/Map"
	component={Map}
	argTypes={MapArgTypes}
	parameters={{
		controls: {
			expanded: true,
			actions: {
				handles: ['mouseover', 'click .btn'],
			},
		},
	}}
/>

export const Template = args => {
	return <Map {...args} apiKey={API_KEY} />;
};

# Playground

<Canvas>
	<Story name="Playground">{Template.bind({})}</Story>
</Canvas>
