import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';
import AlertModal from './AlertModal.tsx';
import { Button } from '../Button/Button';
import { useState } from 'react';

export const AlertModalArgTypes = {
	title: {
		name: 'title',
		type: { name: 'string', required: true },
		defaultValue: 'Modal',
		description: 'Modal title text',
		control: {
			type: 'text',
		},
	},
	msg: {
		name: 'msg',
		type: { name: 'string', required: true },
		defaultValue: 'Message',
		description: 'Modal message text',
		control: {
			type: 'text',
		},
	},
	secondaryMsg: {
		name: 'secondaryMsg',
		type: { name: 'string', required: true },
		defaultValue: 'Secondary message',
		description: 'Modal secondary message text',
		control: {
			type: 'text',
		},
	},
	onCancel: {
		name: 'onCancel',
		defaultValue: () => console.log('cancel'),
		description: 'Function that will be called after pressing the `cancel` button.',
	},
	onConfirm: {
		name: 'onCancel',
		defaultValue: () => console.log('confirm'),
		description: 'Function that will be called after pressing the `confirm` button.',
	},
	confirmTxt: {
		name: 'confirmTxt',
		defaultValue: 'Confirm',
		description: 'Text that will be on `confirm` button.',
		control: {
			type: 'text',
		},
	},
	cancelTxt: {
		name: 'cancelTxt',
		defaultValue: 'Cancel',
		description: 'Text that will be on `cancel` button.',
		control: {
			type: 'text',
		},
	},
	isDestructive: {
		name: 'isDestructive',
		defaultValue: false,
		description: 'Set modal window destructive.',
		control: {
			type: 'boolean',
		},
	},
	showModal: {
		name: 'showModal',
		defaultValue: false,
		description: 'Set modal window open.',
		control: {
			type: 'boolean',
		},
	},
	closeModal: {
		name: 'closeModal',
		description: 'Function that will be called when modal closing.',
	},
	modalStyles: {
		name: 'modalStyles',
		description: 'Styles object that will apply to modal window.',
	},
	modalContentStyles: {
		name: 'modalContentStyles',
		description: 'Styles object that will apply to content inside modal.',
	},
	cancelBtnStyles: {
		name: 'cancelBtnStyles',
		description: 'Styles object that will apply to `cancel` button.',
	},
	confirmBtnStyles: {
		name: 'confirmBtnStyles',
		description: 'Styles object that will apply to `confirm` button.',
	},
};

<Meta
	title="Modal/AlertModal"
	component={AlertModal}
	argTypes={AlertModalArgTypes}
	parameters={{
		controls: {
			expanded: true,
		},
	}}
/>

export const Template = args => {
	const [open, setOpen] = useState(false);
	const handleClick = () => {
		setOpen(true);
	};
	const handleClose = () => {
		setOpen(false);
	};
	const handleCancel = () => {
		setOpen(false);
	};
	const handleConfirm = () => {
		console.log('Confirmed!');
	};
	return (
		<div>
			<Button clickAction={handleClick} title="open modal" />
			<AlertModal {...args} showModal={open} closeModal={handleClose} onCancel={handleCancel}
									onConfirm={handleConfirm} />
		</div>
	);
};

# Default alert modal

<Canvas>
	<Story name="Playground">{Template.bind({})}</Story>
</Canvas>
