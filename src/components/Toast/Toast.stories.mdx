import { Canvas, Meta, Story } from '@storybook/addon-docs/blocks';
import { Toast } from './Toast';
import { Button } from '@mui/material';
import { useState } from 'react';

export const ToastArgTypes = {
	id: {
		name: 'id',
		type: { name: 'string', required: false },
		defaultValue: 'toast',
		description: 'Toast id.',
		control: {
			type: 'text',
		},
	},
	title: {
		name: 'title',
		type: {
			name: 'string', required: true
		},
		defaultValue: 'Toast',
		description: 'Toast title text.',
		control: {
			type: 'text',
		},
	},
	timeoutMs: {
		name: 'timeoutMs',
		type: {
			name: 'number', required: true
		},
		defaultValue: 5000,
		description: 'Toast show time in ms.',
		control: {
			type: 'number',
		},
	},
	type: {
		name: 'type',
		options: ['success', 'warning', 'info', 'error'],
		control: { type: 'radio' },
		defaultValue: 'success',
		description: 'Type of toast component.',
	},
	message: {
		name: 'message',
		type: {
			name: 'string', required: false
		},
		defaultValue: 'Toast message with information.',
		description: 'Toast message.'
	},
	action: {
		name: 'action',
		type: {
			name: 'node', required: false,
		},
		description: 'The action to display. It renders after the message, at the end of the snackbar.',
	},
	showToast: {
		name: 'showToast',
		type: {
			name: 'boolean', required: true,
		},
		description: 'toast open',
	},
	variant: {
		name: 'variant',
		type: {
			name: 'string', required: true,
		},
		description: 'Type of toast.',
		defaultValue: 'outlined',
		options: ['standard', 'filled', 'outlined'],
		control: { type: 'radio' },
	},
	stylesRoot: {
		name: 'stylesRoot',
		description: 'Styles object that will apply to toast component',
	},
	onClose: {
		name: 'onClose',
		type: {
			name: 'function', required: true,
		},
		description: 'function that will be called when toast close.'
	}
}


<Meta
	title="MDX/Toast"
	component={Toast}
	argTypes={ToastArgTypes}
	parameters={{
		controls: {
			expanded: true,
		},
	}}
/>

export const Template = args => {
	const [open, setOpen] = useState(false);
	const handleClick = () => {
		setOpen(true);
	};
	const handleClose = () => {
		setOpen(false);
	}
	return (<div>
		<Button variant="outlined" onClick={handleClick}>Open simple snackbar</Button>
		<Toast {...args} showToast={open} onClose={handleClose} action={
			<Button onClick={() => {
				console.log('clicked')
			}}>Some action
			</Button>
		} />
	</div>)
}


#### Playground

<Canvas>
	<Story name="Playground">
		{Template.bind({})}
	</Story>
</Canvas>


#### Different types

<Canvas>
	<Story name="Success" args={{
		type: 'success'
	}} argTypes={ToastArgTypes}>
		{Template.bind({})}
	</Story>
	<Story name="Warning" args={{
		type: 'warning'
	}} argTypes={ToastArgTypes}>
		{Template.bind({})}
	</Story>
	<Story name="Info" args={{
		type: 'info'
	}} argTypes={ToastArgTypes}>
		{Template.bind({})}
	</Story>
	<Story name="Error" args={{
		type: 'error'
	}} argTypes={ToastArgTypes}>
		{Template.bind({})}
	</Story>
</Canvas>


#### Different variants

<Canvas>
	<Story name="Standard" args={{
		variant: 'standard'
	}}>
		{Template.bind({})}
	</Story>
	<Story name="Filled" args={{
		variant: 'filled'
	}}>
		{Template.bind({})}
	</Story>
	<Story name="Outlined" args={{
		variant: 'outlined'
	}}>
		{Template.bind({})}
	</Story>
</Canvas>
